/* ===== App Layout ===== */
:root {
    --bg: #f6f7fb;
    --panel: #ffffff;
    --primary: #22a35d;
    --primary-dark: #1b8b4e;
    --text: #243043;
    --muted: #6b7280;
    --shadow: 0 10px 25px rgba(0,0,0,.06);
}

  * { box-sizing: border-box; }
html, body, #root { height: 100%; }
body { margin: 0; background: var(--bg); color: var(--text); font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans JP", sans-serif; }

  /* 2カラム */
.container {
    display: grid;
    grid-template-columns: 280px 1fr;
    gap: 24px;
    height: 100%;
    padding: 24px;
}

  /* ===== Sidebar ===== */
.sidebar {
    background: var(--panel);
    border-radius: 16px;
    padding: 20px;
    box-shadow: var(--shadow);
    display: flex;
    flex-direction: column;
}

.sidebar h3 {
    display: flex; align-items: center; gap: 8px;
    margin: 0 0 14px;
    font-size: 1.05rem; color: var(--muted);
}

  /* セッションボタン */
.session-btn {
    width: 100%;
    appearance: none;
    border: 0; outline: 0;
    background: #eaf7ef;
    color: #1d6e42;
    padding: 12px 14px;
    border-radius: 12px;
    font-weight: 600;
    transition: transform .03s ease, background .2s ease;
}
.session-btn + li .session-btn, .session-btn + .session-btn { margin-top: 10px; }
.session-btn:hover { background: #dcf1e6; }
.session-btn:active { transform: translateY(1px); }

  /* ===== Main ===== */
.main {
    display: flex;
    flex-direction: column;
    gap: 18px;
}

  /* ヘッダ */
.app-header {
    background: linear-gradient(180deg,#fff, #f9fafc);
    border-radius: 16px;
    box-shadow: var(--shadow);
    padding: 22px;
    display: flex; align-items: center; gap: 18px;
}
.app-header h1 {
    margin: 0;
    font-size: clamp(28px, 3.2vw, 44px);
    letter-spacing: .02em;
}
.app-header .sub {
    color: var(--muted);
    font-size: .95rem;
}

  /* チャットカード */
.chat-card {
    background: var(--panel);
    border-radius: 16px;
    box-shadow: var(--shadow);
    padding: 22px;
    display: grid;
    grid-template-rows: 1fr auto;
    min-height: 480px;
    height: calc(100vh - 220px);
}

  /* 履歴 */
.chat-history {
    overflow: auto;
    padding-right: 6px;
}

  /* 吹き出し */
.chat-entry { display: flex; flex-direction: column; gap: 6px; margin-bottom: 12px; }
.chat-bubble {
    max-width: 70%;
    padding: 12px 14px;
    border-radius: 14px;
    font-size: 15px;
    line-height: 1.5;
    position: relative;
    word-break: break-word;
}
.chat-bubble.user {
    background: #e6f3ff;
    margin-left: auto;
    border-top-right-radius: 6px;
}
.chat-bubble.bot {
    background: #eaf7ef;
    border-top-left-radius: 6px;
}

  /* 入力バー（カード下部に固定） */
.input-bar {
    display: grid;
    grid-template-columns: 1fr 120px;
    gap: 10px;
    padding-top: 12px;
    border-top: 1px solid #eef1f5;
}
.input-bar input {
    height: 44px;
    padding: 0 14px;
    border-radius: 12px;
    border: 1px solid #e5e7eb;
    outline: none;
    font-size: 15px;
}
.input-bar input:focus { border-color: #b8e4c8; box-shadow: 0 0 0 3px #e7f6ee; }

  /* ボタン */
.btn-success {
    background: var(--primary);
    color: #fff;
    border: 0;
    height: 44px;
    border-radius: 12px;
    font-weight: 700;
    cursor: pointer;
    transition: transform .03s ease, background .2s ease, box-shadow .2s;
    box-shadow: 0 6px 16px rgba(34,163,93,.25);
}
.btn-success:hover { background: var(--primary-dark); }
.btn-success:active { transform: translateY(1px); }

  /* 新規セッションボタン */
.new-session { width: 260px; }

  /* 画像と挨拶 */
.bot-image { width: 96px; height: 96px; border-radius: 14px; display: block; }
.hero-row { display: flex; align-items: center; gap: 16px; }

  /* レスポンシブ */
@media (max-width: 900px) {
    .container { grid-template-columns: 1fr; height: auto; }
    .chat-card { height: auto; min-height: 60vh; }
    .new-session { width: 100%; }
    .chat-bubble { max-width: 85%; }
}
